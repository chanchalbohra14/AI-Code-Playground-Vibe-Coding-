{% extends "base.html" %}

{% block title %}Book {{ event.name }} - Village Vacation{% endblock %}

{% block content %}
<section class="booking-form-page">
    <h1>Book Your Spot: {{ event.name }}</h1>

    <form action="{{ url_for('book_event', event_id=event.id) }}" method="POST" class="booking-form">
        <div class="form-group">
            <label for="name">Full Name:</label>
            <input type="text" id="name" name="name" required>
        </div>

        <div class="form-group">
            <label for="email">Email Address:</label>
            <input type="email" id="email" name="email" required>
        </div>

        <div class="form-group">
            <label for="tickets">Number of Tickets:</label>
            <input type="number" id="tickets" name="tickets" min="1" value="1" required>
        </div>

        <div class="event-summary">
            <h3>Event Summary</h3>
            <p><strong>Event:</strong> {{ event.name }}</p>
            <p><strong>Date:</strong> {{ event.date }}</p>
            <p><strong>Location:</strong> {{ event.location }}</p>
            <p><strong>Price per ticket:</strong>
                {% if event.price > 0 %}
                    ${{ "%.2f"|format(event.price) }}
                {% else %}
                    Free
                {% endif %}
            </p>
        </div>

        <button type="submit" class="cta-button">Confirm Booking</button>
    </form>

    <a href="{{ url_for('event_detail', event_id=event.id) }}">Cancel and go back to event details</a>
</section>
{% endblock %}
